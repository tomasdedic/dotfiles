{
"Azure App Service deploy": {
"prefix": "adoAzureRmWebAppDeployment4",
"body": [
"- task: AzureRmWebAppDeployment@4",
"  inputs:",
"    ConnectionType: ${1:AzureRM} # Options: 'AzureRM', 'PublishProfile' # Required  # Select the service connection type to use to deploy the Web App.<br />Select Publish Profile for using Visual Studio created Publish profile. [More Information](https://aka.ms/vsPublishProfile).",
"    ConnectedServiceName: $2  # Required when ConnectionType = AzureRM  # Select the Azure Resource Manager subscription for the deployment.",
"    PublishProfilePath: ${3:$(System.DefaultWorkingDirectory)/**/*.pubxml}  # Required  # Path of the Publish profile created from Visual Studio",
"    PublishProfilePassword: $4  # Required when ConnectionType = PublishProfile  # It is recommended to store password in a secret variable and use that variable here e.g. $(Password).",
"    WebAppKind: ${5:webApp} # Options: 'webApp', 'webAppLinux', 'webAppContainer', 'functionApp', 'functionAppLinux', 'functionAppContainer', 'apiApp', 'mobileApp' # Required  # Choose from Web App On Windows, Web App On Linux, Web App for Containers, Function App, Function App on Linux, Function App for Containers and Mobile App.",
"    WebAppName: $6  # Required when ConnectionType = AzureRM  # Enter or Select the name of an existing Azure App Service. App services based on selected app type will only be listed.",
"    #DeployToSlotOrASEFlag:  # Optional  # Select the option to deploy to an existing deployment slot or Azure App Service Environment.<br />For both the targets, the task needs Resource group name.<br />In case the deployment target is a slot, by default the deployment is done to the production slot. Any other existing slot name can also be provided.<br />In case the deployment target is an Azure App Service environment, leave the slot name as ‘production’ and just specify the Resource group name.",
"    ResourceGroupName: $7  # Required when DeployToSlotOrASEFlag = true  # The Resource group name is required when the deployment target is either a deployment slot or an App Service Environment.<br />Enter or Select the Azure Resource group that contains the Azure App Service specified above.",
"    SlotName: ${8:production}  # Required  # Enter or Select an existing Slot other than the Production slot.",
"    DockerNamespace: $9  # Required when WebAppKind = webAppContainer || WebAppkind = functionAppContainer  # A globally unique top-level domain name for your specific registry or namespace.<br/> Note: Fully qualified image name will be of the format: '<b>`<registry or namespace`></b>/`<repository`>:`<tag`>'. For example, '<b>myregistry.azurecr.io</b>/nginx:latest'.",
"    DockerRepository: $10  # Required when WebAppKind = webAppContainer || WebAppkind = functionAppContainer  # Name of the repository where the container images are stored.<br/> Note: Fully qualified image name will be of the format: '`<registry or namespace`>/<b>`<repository`></b>:`<tag`>'. For example, 'myregistry.azurecr.io/<b>nginx</b>:latest'.",
"    #DockerImageTag:  # Optional  # Tags are optional, it is the mechanism that registries use to give Docker images a version.<br/> Note: Fully qualified image name will be of the format: '`<registry or namespace`>/`<repository`>:<b>`<tag`></b>'. For example, 'myregistry.azurecr.io/nginx:<b>latest</b>'.",
"    #VirtualApplication:  # Optional  # Specify the name of the Virtual application that has been configured in the Azure portal. The option is not required for deployments to the App Service root.",
"    Package: ${11:$(System.DefaultWorkingDirectory)/**/*.zip}  # Required  # File path to the package or a folder containing app service contents generated by MSBuild or a compressed zip or war file.<br />Variables ( [Build](https://docs.microsoft.com/vsts/pipelines/build/variables) | [Release](https://docs.microsoft.com/vsts/pipelines/release/variables#default-variables)), wildcards are supported. <br/> For example, $(System.DefaultWorkingDirectory)//\/*/\/*//\/*.zip or $(System.DefaultWorkingDirectory)//\/*/\/*//\/*.war.",
"    #RuntimeStack:  # Optional  # Select the framework and version.",
"    #RuntimeStackFunction: # Options: 'DOTNET|2.2', 'DOTNET|3.1', 'JAVA|8', 'JAVA|11', 'NODE|8', 'NODE|10', 'NODE|12', 'NODE|14', 'PYTHON|3.6', 'PYTHON|3.7', 'PYTHON|3.8' # Optional  # Select the framework and version. Refer [this doc](https://docs.microsoft.com/azure/azure-functions/functions-versions#languages) for supported runtime versions. Old values like `DOCKER|microsoft/azure-functions-*` are deprecated, please use the new values from dropdown.",
"    #StartupCommand:  # Optional  # Enter the start up command. For ex.<br/>dotnet exec filename.dll<br/>dotnet filename.dll",
"    #ScriptType: # Options: '', 'Inline Script', 'File Path' # Optional  # Customize the deployment by providing a script that will run on the Azure App service once the task has completed the deployment successfully . For example restore packages for Node, PHP, Python applications. [Learn more](https://go.microsoft.com/fwlink/?linkid=843471).",
"    InlineScript: ${12::: You can provide your deployment commands here. One command per line.}  # Required ",
"    ScriptPath: $13  # Required when ScriptType == File Path ",
"    #WebConfigParameters:  # Optional  # A standard Web.config will be generated and deployed to Azure App Service if the application does not have one. The values in web.config can be edited and vary based on the application framework. For example for node.js application, web.config will have startup file and iis_node module values. This edit feature is only for the generated web.config. [Learn more](https://go.microsoft.com/fwlink/?linkid=843469).",
"    #AppSettings:  # Optional  # Edit web app application settings following the syntax -key value . Value containing spaces should be enclosed in double quotes.<br /> <b>Example</b> : -Port 5000 -RequestTimeout 5000 <br /> -WEBSITE_TIME_ZONE \"Eastern Standard Time\"",
"    #ConfigurationSettings:  # Optional  # Edit web app configuration settings following the syntax -key value. Value containing spaces should be enclosed in double quotes.<br /> Example : -phpVersion 5.6 -linuxFxVersion: node|6.11",
"    #UseWebDeploy:  # Optional  # If unchecked we will auto-detect the best deployment method based on your app type, package format and other parameters. <br>Select the option to view the supported deployment methods and choose one for deploying your app.",
"    DeploymentType: ${14:webDeploy} # Options: 'webDeploy', 'zipDeploy', 'runFromZip' # Required  # Choose the deployment method for the app.",
"    #TakeAppOfflineFlag:  # Optional  # Select the option to take the Azure App Service offline by placing an app_offline.htm file in the root directory of the App Service before the sync operation begins. The file will be removed after the sync operation completes successfully.",
"    #SetParametersFile:  # Optional  # Optional: location of the SetParameters.xml file to use.",
"    #RemoveAdditionalFilesFlag:  # Optional  # Select the option to delete files on the Azure App Service that have no matching files in the App Service package or folder.<br /><br />Note: This will also remove all files related to any extension installed on this Azure App Service. To prevent this, select 'Exclude files from App_Data folder' checkbox. ",
"    #ExcludeFilesFromAppDataFlag:  # Optional  # Select the option to prevent files in the App_Data folder from being deployed to/ deleted from the Azure App Service.",
"    #AdditionalArguments:  # Optional  # Additional Web Deploy arguments following the syntax -key:value .<br />These will be applied when deploying the Azure App Service. Example: -disableLink:AppPoolExtension -disableLink:ContentExtension.<br />For more examples of Web Deploy operation settings, refer to  [this](https://go.microsoft.com/fwlink/?linkid=838471).",
"    #RenameFilesFlag:  # Optional  # Select the option to enable msdeploy flag MSDEPLOY_RENAME_LOCKED_FILES=1 in Azure App Service application settings. The option if set enables msdeploy to rename locked files that are locked during app deployment",
"    #XmlTransformation:  # Optional  # The config transforms will be run for `*.Release.config` and `*.<EnvironmentName>.config` on the `*.config file`.<br/> Config transforms will be run prior to the Variable Substitution.<br/>XML transformations are supported only for Windows platform.",
"    #XmlVariableSubstitution:  # Optional  # Variables defined in the build or release pipelines will be matched against the 'key' or 'name' entries in the appSettings, applicationSettings, and connectionStrings sections of any config file and parameters.xml. Variable Substitution is run after config transforms. <br/><br/> Note: If same variables are defined in the release pipeline and in the environment, then the environment variables will supersede the release pipeline variables.<br/>",
"    #JSONFiles:  # Optional  # Provide new line separated list of JSON files to substitute the variable values. Files names are to be provided relative to the root folder. <br/> To substitute JSON variables that are nested or hierarchical, specify them using JSONPath expressions. <br/> <br/> For example, to replace the value of ‘ConnectionString’ in the sample below, you need to define a variable as ‘Data.DefaultConnection.ConnectionString’ in the build or release pipeline (or release pipeline's environment). <br/> {<br/>&nbsp;&nbsp;\"Data\": {<br/>&nbsp;&nbsp;&nbsp;&nbsp;\"DefaultConnection\": {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"ConnectionString\": \"Server=(localdb)/\/SQLEXPRESS;Database=MyDB;Trusted_Connection=True\"<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;}<br/> }<br/> Variable Substitution is run after configuration transforms. <br/><br/> Note: pipeline variables are excluded in substitution.",
"$15"
],
"description": "Deploy to Azure App Service a web, mobile, or API app using Docker, Java, .NET, .NET Core, Node.js, PHP, Python, or Ruby"
}
}
