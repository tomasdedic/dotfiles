{
"Azure App Service deploy": {
"prefix": "adoAzureRmWebAppDeployment3",
"body": [
"- task: AzureRmWebAppDeployment@3",
"  inputs:",
"    ConnectedServiceName: $1  # Required  # Select the Azure Resource Manager subscription for the deployment.",
"    WebAppKind: ${2:app} # Options: 'app', 'applinux', 'functionapp', 'api', 'mobileapp' # Required  # Select type of web app to deploy. <br/> Note: Select Linux Web App for built-in platform images or custom container image deployments.",
"    WebAppName: $3  # Required  # Enter or Select the name of an existing Azure App Service. App services based on selected app type will only be listed.",
"    #DeployToSlotFlag:  # Optional  # Select the option to deploy to an existing slot other than the Production slot. If this option is not selected, then the Azure App Service will be deployed to the Production slot.",
"    ResourceGroupName: $4  # Required when DeployToSlotFlag = true  # Enter or Select the Azure Resource group that contains the Azure App Service specified above.",
"    SlotName: $5  # Required when DeployToSlotFlag = true  # Enter or Select an existing Slot other than the Production slot.",
"    #ImageSource: # Options: 'Registry', 'Builtin' # Optional  # App Service on Linux offers two different options to publish your application <br/> Custom image deployment or App deployment with a built-in platform image. [Learn More](https://go.microsoft.com/fwlink/?linkid=862490)",
"    AzureContainerRegistry: $6  # Required when ImageSource = AzureContainerRegistry  # A globally unique top-level domain name for your specific registry.<br/> Note: Fully qualified image name will be of the format: '<b>`<registry`></b>/`<repository`>:`<tag`>'. For example, '<b>myregistry.azurecr.io</b>/nginx:latest'.",
"    #AzureContainerRegistryLoginServer:  # Optional  # Enter or Select an Azure container registry login server name.",
"    AzureContainerRegistryImage: $7  # Required when ImageSource = AzureContainerRegistry  # Name of the repository where the container images are stored.<br/> Note: Fully qualified image name will be of the format: '`<registry`>/<b>`<repository`></b>:`<tag`>'. For example, 'myregistry.azurecr.io/<b>nginx</b>:latest'.",
"    #AzureContainerRegistryTag:  # Optional  # Tags are optional, it is the mechanism that registries use to give Docker images a version.<br/> Note: Fully qualified image name will be of the format: '`<registry`>/`<repository`>:<b>`<tag`></b>'. For example, 'myregistry.azurecr.io/nginx:<b>latest</b>'.",
"    DockerRepositoryAccess: ${8:public} # Options: 'private', 'public' # Required  # Select the Docker repository access.",
"    RegistryConnectedServiceName: $9  # Required when DockerRepositoryAccess = private || ImageSource = PrivateRegistry  # Select the registry connection.",
"    PrivateRegistryImage: $10  # Required when ImageSource = PrivateRegistry  # Name of the repository where the container images are stored.<br/> Note: Fully qualified image name will be of the format: '`<registry`>/<b>`<repository`></b>:`<tag`>'. For example, 'myregistry.azurecr.io/<b>nginx</b>:latest'.",
"    #PrivateRegistryTag:  # Optional  # Tags are optional, it is the mechanism that registries use to give Docker images a version.<br/> Note: Fully qualified image name will be of the format: '`<registry`>/`<repository`>:<b>`<tag`></b>'. For example, 'myregistry.azurecr.io/nginx:<b>latest</b>'.",
"    DockerNamespace: $11  # Required when WebAppKind != app && WebAppKind != functionapp && WebAppKind != api && WebAppKind != mobileapp && ImageSource  = Registry  # A globally unique top-level domain name for your specific registry or namespace.<br/> Note: Fully qualified image name will be of the format: '<b>`<registry or namespace`></b>/`<repository`>:`<tag`>'. For example, '<b>myregistry.azurecr.io</b>/nginx:latest'.",
"    DockerRepository: $12  # Required when WebAppKind != app && WebAppKind != functionapp && WebAppKind != api && WebAppKind != mobileapp && ImageSource  = Registry  # Name of the repository where the container images are stored.<br/> Note: Fully qualified image name will be of the format: '`<registry or namespace`>/<b>`<repository`></b>:`<tag`>'. For example, 'myregistry.azurecr.io/<b>nginx</b>:latest'.",
"    #DockerImageTag:  # Optional  # Tags are optional, it is the mechanism that registries use to give Docker images a version.<br/> Note: Fully qualified image name will be of the format: '`<registry or namespace`>/`<repository`>:<b>`<tag`></b>'. For example, 'myregistry.azurecr.io/nginx:<b>latest</b>'.",
"    #VirtualApplication:  # Optional  # Specify the name of the Virtual application that has been configured in the Azure portal. The option is not required for deployments to the App Service root.",
"    Package: ${13:$(System.DefaultWorkingDirectory)/**/*.zip}  # Required  # File path to the package or a folder containing app service contents generated by MSBuild or a compressed zip or war file.<br />Variables ( [Build](https://www.visualstudio.com/docs/build/define/variables) | [Release](https://www.visualstudio.com/docs/release/author-release-definition/understanding-tasks#predefvariables)), wild cards are supported. <br/> For example, $(System.DefaultWorkingDirectory)//\/*/\/*//\/*.zip or $(System.DefaultWorkingDirectory)//\/*/\/*//\/*.war.",
"    BuiltinLinuxPackage: ${14:$(System.DefaultWorkingDirectory)/**/*.zip}  # Required  # File path to the package or a folder containing app service contents generated by MSBuild or a compressed zip or war file.<br />Variables ( [Build](https://www.visualstudio.com/docs/build/define/variables) | [Release](https://www.visualstudio.com/docs/release/author-release-definition/understanding-tasks#predefvariables)), wild cards are supported. <br/> For example, $(System.DefaultWorkingDirectory)//\/*/\/*//\/*.zip or $(System.DefaultWorkingDirectory)//\/*/\/*//\/*.war.",
"    RuntimeStack: $15  # Required when WebAppKind != app && WebAppKind != functionapp && WebAppKind != api && WebAppKind != mobileapp && ImageSource = Builtin  # Select the framework and version.",
"    #StartupCommand:  # Optional  # Enter the start up command.",
"    #WebAppUri:  # Optional  # Specify a name for the output variable that is generated for the URL of the Azure App Service. The variable can be consumed in subsequent tasks.",
"    #ScriptType: # Options: '', 'Inline Script', 'File Path' # Optional  # Customize the deployment by providing a script that will run on the Azure App service once the task has completed the deployment successfully . For example restore packages for Node, PHP, Python applications. [Learn more](https://go.microsoft.com/fwlink/?linkid=843471).",
"    InlineScript: ${16::: You can provide your deployment commands here. One command per line.}  # Required ",
"    ScriptPath: $17  # Required when ScriptType == File Path ",
"    #GenerateWebConfig:  # Optional  # A standard Web.config will be generated and deployed to Azure App Service if the application does not have one. The values in web.config can be edited and vary based on the application framework. For example for node.js application, web.config will have startup file and iis_node module values. [Learn more](https://go.microsoft.com/fwlink/?linkid=843469).",
"    WebConfigParameters: $18  # Required when GenerateWebConfig == true  # Edit values like startup file in the generated web.config file. This edit feature is only for the generated web.config. [Learn more](https://go.microsoft.com/fwlink/?linkid=843469).",
"    #AppSettings:  # Optional  # Edit web app application settings following the syntax -key value . Value containing spaces should be enclosed in double quotes.<br /> <b>Example</b> : -Port 5000 -RequestTimeout 5000 <br /> -WEBSITE_TIME_ZONE \"Eastern Standard Time\"",
"    #ConfigurationSettings:  # Optional  # Edit web app configuration settings following the syntax -key value. Value containing spaces should be enclosed in double quotes.<br /> Example : -phpVersion 5.6 -linuxFxVersion: node|6.11",
"    #TakeAppOfflineFlag:  # Optional  # Select the option to take the Azure App Service offline by placing an app_offline.htm file in the root directory of the App Service before the sync operation begins. The file will be removed after the sync operation completes successfully.",
"    #UseWebDeploy:  # Optional  # Publish using Web Deploy options are supported only when using Windows agent. On other platforms, the task relies on [Kudu REST APIs](https://github.com/projectkudu/kudu/wiki/REST-API) to deploy the Azure App Service, and following options are not supported",
"    #SetParametersFile:  # Optional  # Optional: location of the SetParameters.xml file to use.",
"    #RemoveAdditionalFilesFlag:  # Optional  # Select the option to delete files on the Azure App Service that have no matching files in the App Service package or folder.<br /><br />Note: This will also remove all files related to any extension installed on this Azure App Service. To prevent this, select 'Exclude files from App_Data folder' checkbox. ",
"    #ExcludeFilesFromAppDataFlag:  # Optional  # Select the option to prevent files in the App_Data folder from being deployed to/ deleted from the Azure App Service.",
"    #AdditionalArguments:  # Optional  # Additional Web Deploy arguments following the syntax -key:value .<br />These will be applied when deploying the Azure App Service. Example: -disableLink:AppPoolExtension -disableLink:ContentExtension.<br />For more examples of Web Deploy operation settings, refer to  [this](https://go.microsoft.com/fwlink/?linkid=838471).",
"    #RenameFilesFlag:  # Optional  # Select the option to enable msdeploy flag MSDEPLOY_RENAME_LOCKED_FILES=1 in Azure App Service application settings. The option if set enables msdeploy to rename locked files that are locked during app deployment",
"    #XmlTransformation:  # Optional  # The config transforms will be run for `*.Release.config` and `*.<EnvironmentName>.config` on the `*.config file`.<br/> Config transforms will be run prior to the Variable Substitution.<br/>XML transformations are supported only for Windows platform.",
"    #XmlVariableSubstitution:  # Optional  # Variables defined in the build or release pipeline will be matched against the 'key' or 'name' entries in the appSettings, applicationSettings, and connectionStrings sections of any config file and parameters.xml. Variable Substitution is run after config transforms. <br/><br/> Note: If same variables are defined in the release pipeline and in the Environment, then the Environment variables will supersede the release pipeline variables.<br/>",
"    #JSONFiles:  # Optional  # Provide new line separated list of JSON files to substitute the variable values. Files names are to be provided relative to the root folder. <br/> To substitute JSON variables that are nested or hierarchical, specify them using JSONPath expressions. <br/> <br/> For example, to replace the value of ‘ConnectionString’ in the sample below, you need to define a variable as ‘Data.DefaultConnection.ConnectionString’ in the build/release pipeline (or release pipeline’s environment). <br/> {<br/>&nbsp;&nbsp;\"Data\": {<br/>&nbsp;&nbsp;&nbsp;&nbsp;\"DefaultConnection\": {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"ConnectionString\": \"Server=(localdb)/\/SQLEXPRESS;Database=MyDB;Trusted_Connection=True\"<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;}<br/> }<br/> Variable Substitution is run after configuration transforms. <br/><br/> Note: pipeline variables are excluded in substitution.",
"$19"
],
"description": "Deploy to Azure App Service a web, mobile, or API app using Docker, Java, .NET, .NET Core, Node.js, PHP, Python, or Ruby"
}
}
